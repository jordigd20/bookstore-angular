<header
  class="block xs:sticky top-0 z-50 w-full border-b border-border bg-background"
>
  <div class="xs:container text-primary flex items-center md:h-16 px-4 md:px-8">
    <a
      routerLink="/"
      class="flex py-4 md:py-0 text-xl md:text-2xl font-bold gap-1.5 md:gap-3 items-center text-primary transition-colors"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="30"
        fill="none"
        viewBox="0 0 40 40"
        class="w-5 h-5 md:w-8 md:h-8"
      >
        <circle cx="20" cy="20" r="20" class="fill-primary" />
        <path
          class="fill-background"
          d="M23.688 19.36c.976.208 1.76.696 2.352 1.464.592.752.888 1.616.888 2.592 0 1.408-.496 2.528-1.488 3.36-.976.816-2.344 1.224-4.104 1.224h-7.848V11.152h7.584c1.712 0 3.048.392 4.008 1.176.976.784 1.464 1.848 1.464 3.192 0 .992-.264 1.816-.792 2.472-.512.656-1.2 1.112-2.064 1.368Zm-6.096-1.392h2.688c.672 0 1.184-.144 1.536-.432.368-.304.552-.744.552-1.32 0-.576-.184-1.016-.552-1.32-.352-.304-.864-.456-1.536-.456h-2.688v3.528Zm3.024 6.72c.688 0 1.216-.152 1.584-.456.384-.32.576-.776.576-1.368 0-.592-.2-1.056-.6-1.392-.384-.336-.92-.504-1.608-.504h-2.976v3.72h3.024Z"
        />
      </svg>
      BOOKSTORE
    </a>
  </div>
</header>

<main
  class="container py-4 md:py-8 flex flex-col lg:flex-row gap-4 text-primary"
>
  <ng-container *ngIf="isLoading(); else orderTemplate">
    <div class="mx-auto my-4 flex flex-col items-center justify-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        class="w-8 h-8 animate-spin"
      >
        <path
          fill="currentColor"
          fill-opacity=".9"
          d="M12 2.25c-5.384 0-9.75 4.366-9.75 9.75s4.366 9.75 9.75 9.75v-2.438A7.312 7.312 0 1 1 19.313 12h2.437c0-5.384-4.366-9.75-9.75-9.75Z"
        />
      </svg>
      <h3 class="my-1 text-center">Processing your order...</h3>
    </div>
  </ng-container>

  <ng-template #orderTemplate>
    <ng-container *ngIf="order(); else orderProcessing">
      <section class="flex-[1_1]">
        <p class="text-muted-foreground">
          Your purchase has been completed successfully.
        </p>

        <app-order-table [order]="order()!"></app-order-table>
      </section>

      <div
        class="lg:flex-[0_0_350px] border border-border rounded-md h-full p-4 text-sm"
      >
        <div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            class="w-24 h-24 mx-auto text-green-500"
          >
            <path
              fill="currentColor"
              d="m10.6 16.6l7.05-7.05l-1.4-1.4l-5.65 5.65l-2.85-2.85l-1.4 1.4l4.25 4.25ZM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Zm0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20Zm0-8Z"
            />
          </svg>

          <h3 class="text-base font-medium text-center">Order completed!</h3>
        </div>

        <a
          routerLink="/shop"
          class="mt-4 w-full flex justify-center items-center gap-2 rounded-md text-sm font-medium bg-primary text-primary-foreground px-4 py-2 transition-colors hover:bg-primary/90 disabled:opacity-50"
        >
          Keep shopping
        </a>
        <a
          routerLink="/dashboard/orders"
          class="mt-4 w-full flex justify-center items-center gap-2 rounded-md text-sm font-medium border border-border bg-background px-4 py-2 transition-colors hover:bg-accent disabled:opacity-50"
        >
          View all orders
        </a>
      </div>
    </ng-container>

    <ng-template #orderProcessing>
      <div class="mx-auto my-2 space-y-2 animate-fade-in">
        <img
          src="../../../assets/not-found.svg"
          alt="A person holding a reload search symbol, with an empty note in the back"
          width="350"
          loading="lazy"
          class="m-auto"
        />

        <h3 class="text-center">
          The order is still processing, please try again in a few minutes.
        </h3>
      </div>
    </ng-template>
  </ng-template>
</main>
